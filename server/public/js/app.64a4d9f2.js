(function(t){function e(e){for(var a,s,i=e[0],c=e[1],l=e[2],m=0,d=[];m<i.length;m++)s=i[m],Object.prototype.hasOwnProperty.call(n,s)&&n[s]&&d.push(n[s][0]),n[s]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(t[a]=c[a]);u&&u(e);while(d.length)d.shift()();return o.push.apply(o,l||[]),r()}function r(){for(var t,e=0;e<o.length;e++){for(var r=o[e],a=!0,i=1;i<r.length;i++){var c=r[i];0!==n[c]&&(a=!1)}a&&(o.splice(e--,1),t=s(s.s=r[0]))}return t}var a={},n={app:0},o=[];function s(e){if(a[e])return a[e].exports;var r=a[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,s),r.l=!0,r.exports}s.m=t,s.c=a,s.d=function(t,e,r){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(s.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)s.d(r,a,function(e){return t[e]}.bind(null,a));return r},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],c=i.push.bind(i);i.push=e,i=i.slice();for(var l=0;l<i.length;l++)e(i[l]);var u=c;o.push([0,"chunk-vendors"]),r()})({0:function(t,e,r){t.exports=r("56d7")},"026b":function(t,e,r){t.exports=r.p+"media/sonnerie.2ac30148.mp3"},"065e":function(t,e,r){},"56d7":function(t,e,r){"use strict";r.r(e);r("e260"),r("e6cf"),r("cca6"),r("a79d");var a=r("2b0e"),n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-app",[r("v-main",[r("router-view")],1)],1)},o=[],s={name:"App",components:{},data:function(){return{}}},i=s,c=r("2877"),l=r("6544"),u=r.n(l),m=r("7496"),d=r("f6c4"),p=Object(c["a"])(i,n,o,!1,null,null,null),h=p.exports;u()(p,{VApp:m["a"],VMain:d["a"]});var f=r("8c4f"),v=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"home"},[r("v-container",[r("v-row",{staticClass:"mb-12",attrs:{justify:"center"}},[r("v-col",{attrs:{cols:"8",align:"center"}},[r("h1",[t._v("les Mimes")]),r("v-row",{staticClass:"my-12",attrs:{justify:"center"}},[r("v-btn",{staticClass:"link white--text",attrs:{small:"",color:"#f46036"},on:{click:t.createGame}},[t._v(" Créer une partie ")])],1),r("v-row",{attrs:{justify:"center"}},[r("v-btn",{staticClass:"link",attrs:{color:"#1B998B",small:""}},[r("router-link",{attrs:{to:{name:"JoinGame",params:{idGame:0,admin:"player"}}}},[t._v(" Rejoindre une partie ")])],1)],1)],1)],1)],1)],1)},y=[],_={name:"Home",components:{},data:function(){return{game:{id:null}}},created:function(){this.game.id=Math.floor(1e6*Math.random())},methods:{createGame:function(){var t=this;this.$store.dispatch("createGame",this.game).then((function(){t.$router.push({name:"JoinGame",params:{idGame:t.game.id,admin:"admin"}})})).catch((function(){console.log("error")}))}}},b=_,g=r("8336"),w=r("62ad"),x=r("a523"),C=r("0fd9"),T=Object(c["a"])(b,v,y,!1,null,null,null),G=T.exports;u()(T,{VBtn:g["a"],VCol:w["a"],VContainer:x["a"],VRow:C["a"]});var $=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-container",[r("v-row",{attrs:{justify:"center"}},[r("v-col",{attrs:{cols:"8"}},[r("v-col",{attrs:{align:"center"}},[r("h3",{staticClass:"mb-3"},[t._v("CODE")]),r("h2",[t._v(" "+t._s(t.$route.params.idGame)+" ")])]),r("h3",[t._v("Team Bleu")]),r("v-sheet",{staticClass:"pa-4",attrs:{elevation:"0"}},[r("v-chip-group",{attrs:{column:"","active-class":"primary--text"}},t._l(t.blueTeam,(function(e){return r("v-chip",{key:e.id,attrs:{color:"blue","text-color":"white"}},[t._v(" "+t._s(e))])})),1)],1),r("h3",[t._v("Team Rouge")]),r("v-sheet",{staticClass:"pa-4",attrs:{elevation:"0"}},[r("v-chip-group",{attrs:{column:"","active-class":"primary--text"}},t._l(t.redTeam,(function(e){return r("v-chip",{key:e.id,attrs:{color:"red","text-color":"white"}},[t._v(" "+t._s(e))])})),1)],1),"admin"===t.$route.params.admin?r("v-row",{attrs:{justify:"center"}},[r("v-btn",{staticClass:"my-10 link white--text",attrs:{color:"indigo darken-2"},on:{click:t.startGame}},[t._v(" Lancer la partie ")])],1):t._e(),r("v-row",{staticClass:"mt-10"},[r("router-link",{attrs:{to:{name:"JoinGame",params:{idGame:0,admin:"player"}}}},[r("v-icon",[t._v("mdi-arrow-left")])],1)],1)],1)],1)],1)},k=[],j={data:function(){return{admin:!1}},computed:{blueTeam:function(){return this.$store.getters.blueTeam},redTeam:function(){return this.$store.getters.redTeam}},created:function(){this.$store.dispatch("fetchPlayers",this.$route.params.idGame)},methods:{startGame:function(){this.$router.push({name:"Game",params:{idGame:this.$route.params.idGame}})}}},V=j,P=r("cc20"),D=r("ef9a"),O=r("132d"),R=r("8dd9"),B=Object(c["a"])(V,$,k,!1,null,"645ec235",null),W=B.exports;u()(B,{VBtn:g["a"],VChip:P["a"],VChipGroup:D["a"],VCol:w["a"],VContainer:x["a"],VIcon:O["a"],VRow:C["a"],VSheet:R["a"]});var I=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-container",[r("v-row",{staticClass:" mt-5 b-12",attrs:{justify:"center"}},[r("v-col",{attrs:{align:"center"}},[r("h1",[t._v("Score")]),r("v-row",{staticClass:"mt-8"},[r("v-col",[r("p",[t._v("Bleu")])]),r("v-col",[r("p",[t._v("Rouge")])])],1)],1)],1)],1)},M=[],S={data:function(){return{game:{id:null}}},created:function(){this.game.id=Math.floor(1e6*Math.random())},methods:{createGame:function(){var t=this;this.$store.dispatch("createGame",this.game).then((function(){t.$router.push({name:"JoinGame",params:{admin:!0}})})).catch((function(){console.log("error")}))}}},E=S,A=Object(c["a"])(E,I,M,!1,null,null,null),F=A.exports;u()(A,{VCol:w["a"],VContainer:x["a"],VRow:C["a"]});var J=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-container",{staticClass:"fluid mt-5"},[r("v-row",{attrs:{justify:"center"}},[r("v-col",{attrs:{cols:"8",xs:"8",sm:"8",md:"8"}},[r("v-row",{attrs:{justify:"center"}},[r("v-col",{attrs:{cols:"6"}},[r("h3",[t._v("Rentre ton petit nom")]),r("v-text-field",{attrs:{placeholder:"coquinou"},model:{value:t.player.name,callback:function(e){t.$set(t.player,"name",e)},expression:"player.name"}})],1),r("v-col",{attrs:{cols:"6"}},[r("v-radio-group",{attrs:{column:""},model:{value:t.player.team,callback:function(e){t.$set(t.player,"team",e)},expression:"player.team"}},[r("v-radio",{attrs:{label:"Team Bleu",color:"blue",value:"1"}}),r("v-radio",{attrs:{label:"Team Rouge",color:"red",value:"2"}})],1)],1)],1),r("v-row",["admin"===t.$route.params.admin?r("v-col",{attrs:{align:"center"}},[r("h3",{staticClass:"mb-3"},[t._v("CODE")]),r("h2",[t._v(" "+t._s(t.idGame)+" ")])]):t._e()],1),r("v-row",{staticClass:"mb-4",attrs:{justify:"center"}},[r("v-col",{attrs:{cols:"12"}},[r("h3",{},[t._v("Rentre le code")]),r("v-text-field",{staticClass:"input-code",attrs:{id:"input",color:"#1B998B",placeholder:"478577"},model:{value:t.player.gameId,callback:function(e){t.$set(t.player,"gameId",e)},expression:"player.gameId"}}),r("h3",[t._v("Rentre tes mots")]),t._l(t.numberOfWord,(function(e){return r("v-text-field",{key:e,attrs:{placeholder:"mot "+e},model:{value:t.player.list[e-1],callback:function(r){t.$set(t.player.list,e-1,r)},expression:"player.list[number - 1]"}})}))],2)],1),r("v-row",{attrs:{justify:"center"}},[r("v-btn",{staticClass:"mb-5 link white--text",attrs:{color:"indigo darken-2"},on:{click:t.createPlayer}},[t._v(" Rejoindre la partie ")])],1),r("v-row",{attrs:{justify:"flex-start"}},[r("router-link",{staticClass:"mt-5 mb-10",attrs:{to:"/"}},[r("v-icon",[t._v("mdi-arrow-left")])],1)],1)],1)],1)],1)},L=[],N={data:function(){return{numberOfWord:5,idGame:null,player:{id:0,name:"",list:[],team:null,gameId:null}}},created:function(){this.idGame=this.$route.params.idGame},methods:{createPlayer:function(){var t=this;this.player.id=Math.floor(1e7*Math.random()),this.$store.dispatch("createPlayer",{player:this.player}).then((function(){t.$router.push({name:"TeamMenu",params:{idGame:t.player.gameId,admin:t.$route.params.admin}})})).catch((function(){console.log("error")}))}}},Y=N,U=(r("60f9"),r("67b6")),H=r("43a6"),K=r("8654"),X=Object(c["a"])(Y,J,L,!1,null,"02d137c4",null),q=X.exports;u()(X,{VBtn:g["a"],VCol:w["a"],VContainer:x["a"],VIcon:O["a"],VRadio:U["a"],VRadioGroup:H["a"],VRow:C["a"],VTextField:K["a"]});var z=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-container",{staticClass:"fluid d-flex mt-5"},[r("v-row",{attrs:{justify:"center"}},[r("v-col",{attrs:{xs:"8",sm:"10",md:"10",col:"10",align:"center"}},[r("v-row",{attrs:{justify:"center"}},[r("v-col",{attrs:{xs:"10",sm:"5"}},[r("p",{staticClass:"subtitle-1"},[t._v("Team "+t._s(t.currentTeam)+" / Score "+t._s(t.score))]),r("p",{staticClass:"pb-10 headline"},[t._v(" Joueur "),r("span",{staticClass:"font-weight-bold",class:t.currentColorClass},[t._v(t._s(t.currentPlayer))])])]),r("v-col",{attrs:{xs:"10",sm:"5",md:"10"}},[t.finish?t._e():r("v-chip",{staticClass:"headline mb-12 label py-8",attrs:{color:"default",outlined:""}},[t.timer?t._e():r("v-icon",{staticClass:"mr-5",attrs:{"x-large":""},on:{click:t.startTimer}},[t._v(" mdi-play-circle-outline ")]),t.timer?r("v-icon",{staticClass:"mr-5",attrs:{"x-large":""},on:{click:t.stopTimer}},[t._v(" mdi-pause-circle ")]):t._e(),t.resetButton?r("v-icon",{staticClass:"mr-5",attrs:{"x-large":""},on:{click:t.resetTimer}},[t._v(" mdi-replay ")]):t._e(),r("span",{attrs:{id:"minutes"}},[t._v(t._s(t.minutes))]),r("span",{attrs:{id:"middle"}},[t._v(":")]),r("span",{attrs:{id:"seconds"}},[t._v(t._s(t.seconds))])],1)],1)],1),t.gameFinished?r("v-col",[r("p",{staticClass:"display-2"},[t._v("Partie terminée")]),r("v-btn",{staticClass:"white--text mr-5",attrs:{color:"indigo darken-2"},on:{click:t.goDashBoard}},[t._v(" Voir le score ")])],1):t._e(),t.finish||t.gameFinished?t._e():r("v-col",{attrs:{v:"",align:"center"}},[r("v-row",{staticClass:"mb-12",attrs:{justify:"center"}},[t.showWord?r("p",{staticClass:"display-3 mb-8"},[t._v(" "+t._s(t.currentWord)+" ")]):t._e(),t.showWord?t._e():r("v-btn",{staticClass:"white--text",attrs:{small:"",color:"indigo darken-2"},on:{click:t.showWordFunction}},[t._v(" Montrer le mot ")])],1),r("v-row",{attrs:{justify:"center"}},[r("v-btn",{staticClass:"white--text mr-5",attrs:{small:"",color:"#E71D36"},on:{click:t.skipWord}},[t._v(" Passe ")]),r("v-btn",{staticClass:"white--text",attrs:{small:"",color:"green"},on:{click:t.nextWord}},[t._v(" Suivant ")])],1)],1),t.finish?r("v-btn",{staticClass:"mb-5 white--text",attrs:{small:"",color:"indigo darken-2"},on:{click:t.switchTeam}},[t._v(" Switch Team ")]):t._e()],1)],1)],1)},Q=[],Z=r("5530"),tt=r("2f62"),et=new Audio(r("026b")),rt={data:function(){return{timer:null,totalTime:5,resetButton:!1,finish:!1,showWord:!1,gameFinished:!1,color:["Bleu","Rouge"],playerIndex:[0,0]}},computed:Object(Z["a"])({round:function(){return this.$store.state.round},numberPlayerTeam:function(){return this.round%2==0?this.$store.getters.blueTeam.length:this.$store.getters.redTeam.length},currentWord:function(){return this.$store.getters.word},currentTeam:function(){return this.round%2==0?this.color[0]:this.color[1]},currentColorClass:function(){return this.round%2==0?"blue--text":"red--text"},currentPlayer:function(){return this.round%2==0?this.$store.getters.blueTeam[this.playerIndex[0]]:this.$store.getters.redTeam[this.playerIndex[1]]},minutes:function(){var t=Math.floor(this.totalTime/60);return this.padTime(t)},seconds:function(){var t=this.totalTime-60*this.minutes;return this.padTime(t)},score:function(){return this.$store.getters.scoreTeam}},Object(tt["b"])(["players"])),watch:{},created:function(){this.$store.dispatch("fetchPlayers",this.$route.params.idGame)},methods:{startTimer:function(){var t=this;this.timer=setInterval((function(){return t.countdown()}),1e3),this.resetButton=!0},stopTimer:function(){clearInterval(this.timer),this.timer=null,this.resetButton=!0},resetTimer:function(){this.totalTime=5,clearInterval(this.timer),this.timer=null,this.resetButton=!1},padTime:function(t){return(t<10?"0":"")+t},countdown:function(){this.seconds>0?this.totalTime--:(this.stopTimer(),this.resetButton=!1,this.finish=!0,this.showWord=!1,et.play())},switchTeam:function(){et.pause(),this.round%2==0?(this.playerIndex[0]+=1,this.playerIndex[0]==this.numberPlayerTeam&&(this.playerIndex[0]=0)):(this.playerIndex[1]+=1,this.playerIndex[1]==this.numberPlayerTeam&&(this.playerIndex[1]=0)),this.$store.commit("ADD_ROUND"),this.finish=!1,this.resetTimer()},nextWord:function(){this.$store.commit("NEXT_WORD",{word:this.currentWord}),null==this.currentWord&&(this.gameFinished=!0)},skipWord:function(){this.resetButton||this.startTimer(),this.$store.commit("SKIP_WORD",{word:this.currentWord})},showWordFunction:function(){this.showWord=!0},goDashBoard:function(){this.$router.push({name:"DashBoard",params:{idGame:this.$route.params.idGame}})}}},at=rt,nt=Object(c["a"])(at,z,Q,!1,null,"51a15b68",null),ot=nt.exports;u()(nt,{VBtn:g["a"],VChip:P["a"],VCol:w["a"],VContainer:x["a"],VIcon:O["a"],VRow:C["a"]}),a["a"].use(f["a"]);var st=[{path:"/",name:"Home",component:G},{path:"/teamMenu/:idGame/:admin",name:"TeamMenu",component:W,props:!0},{path:"/DashBoard/:idGame/",name:"DashBoard",component:F},{path:"/joinGame/:idGame/:admin",name:"JoinGame",component:q,props:!0},{path:"/Game/:idGame",name:"Game",component:ot,props:!0}],it=new f["a"]({mode:"history",base:"/",routes:st}),ct=it,lt=(r("4de4"),r("caad"),r("d81d"),r("b0c0"),r("2532"),r("bc3a")),ut=r.n(lt),mt=ut.a.create({baseURL:"http://localhost:3000",withCredentials:!1,headers:{Accept:"application/json","Content-Type":"application/json"}}),dt={getGames:function(t){return mt.get("/games/"+t)},getPlayers:function(t){return mt.get("/games/"+t+"/players")},postPlayer:function(t){return mt.post("/players",t)},postGame:function(t){return mt.post("/games",t)}};a["a"].use(tt["a"]);var pt=new tt["a"].Store({state:{games:[],players:[],wordDone:[],wordSkipped:[],score:[0,0],round:2},mutations:{ADD_ROUND:function(t){t.round+=1,t.wordSkipped=[]},ADD_GAME:function(t,e){t.games.push(e)},ADD_PLAYER:function(t,e){t.players.push(e)},SET_PLAYERS:function(t,e){t.players=e},NEXT_WORD:function(t,e){var r=e.word;t.wordDone.push(r),t.round%2==0?a["a"].set(t.score,0,t.score[0]+1):a["a"].set(t.score,1,t.score[1]+1)},SKIP_WORD:function(t,e){var r=e.word;t.wordSkipped.push(r)}},actions:{createPlayer:function(t,e){var r=t.commit,a=e.player;return dt.postPlayer(a).then((function(){r("ADD_PLAYER",a)})).catch((function(){console.log("eror")}))},createGame:function(t,e){var r=t.commit;return dt.postGame(e).then((function(){r("ADD_GAME",e)})).catch((function(){console.log("error")}))},fetchPlayers:function(t,e){var r=t.commit;dt.getPlayers(e).then((function(t){r("SET_PLAYERS",t.data)})).catch((function(t){console.log("There was an error:",t.response)}))}},getters:{listWord:function(t){var e=[];return t.players.map((function(t){t.list.map((function(t){e.push(t)}))})),e},listFilter:function(t,e){return e.listWord.filter((function(e){return!t.wordSkipped.includes(e)})).filter((function(e){return!t.wordDone.includes(e)}))},word:function(t,e){return e.listFilter[e.index]},index:function(t,e){return Math.floor(Math.random()*e.listFilter.length)},blueTeam:function(t){var e=[];return t.players.map((function(t){1==t.team&&e.push(t.name)})),e},redTeam:function(t){var e=[];return t.players.map((function(t){2==t.team&&e.push(t.name)})),e},scoreTeam:function(t){return t.round%2==0?t.score[0]:t.score[1]}}}),ht=r("f309");a["a"].use(ht["a"]);var ft=new ht["a"]({});r("a347");a["a"].config.productionTip=!1,new a["a"]({router:ct,store:pt,vuetify:ft,render:function(t){return t(h)}}).$mount("#app")},"60f9":function(t,e,r){"use strict";var a=r("065e"),n=r.n(a);n.a},a347:function(t,e,r){}});
//# sourceMappingURL=app.64a4d9f2.js.map